version: 1
pack: apparel-v1
matrix: full_lca
rules:
  categories:
    "*":
      include:
        - product.id
        - product.name
        - brand
        - category
        - materials[*].code
        - materials[*].share
        - materials[*].lci_dataset
        - weight.total_g
        - origin.country
        - manufacture.country
        - processes.*.electricity_mix
        - impacts.*
        - use_phase.*
        - end_of_life.*
        - meta.assumptions[*]
        - meta.sources[*]
      map:
        product.id: required
        product.name: required
        brand: required
        category: required
        materials[*].code: required
        materials[*].share: required

        materials[*].lci_dataset:
          allowed_if_evidence:
            source_types: [ecoinvent, pef]
            confidence_min: 0.75
            requires_lci_map: true

        weight.total_g: allowed
        origin.country: allowed
        manufacture.country: allowed

        processes.*.electricity_mix:
          allowed_if_evidence:
            source_types: [ecoinvent, pef]
            confidence_min: 0.75
            requires_lci_map: false

        impacts.*:
          allowed_if_evidence:
            source_types: [ecoinvent, pef]
            confidence_min: 0.75
            requires_lci_map: true

        use_phase.*:
          allowed_if_evidence:
            source_types: [ecoinvent, pef]
            confidence_min: 0.75
            requires_lci_map: false

        end_of_life.*:
          allowed_if_evidence:
            source_types: [ecoinvent, pef]
            confidence_min: 0.75
            requires_lci_map: false

        meta.assumptions[*]: required
        meta.sources[*]: required
